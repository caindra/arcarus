{% extends 'layout.html.twig' %}

{% block content %}
    <h1 class="title">Cambiar contraseña</h1>

    {% for messages in app.flashes %}
        <div class="notification is-info">
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        </div>
    {% endfor %}

    {{ form_start(form) }}
    {% if not admin %}
        <div class="field">
            {{ form_label(form.oldPassword, null, {'label_attr': {'class': 'label'}}) }}
            <div class="control">
                {{ form_widget(form.oldPassword, {'attr': {'class': 'input'}}) }}
            </div>
            {{ form_errors(form.oldPassword) }}
        </div>
    {% endif %}

    <div class="field">
        {{ form_label(form.newPassword.first, null, {'label_attr': {'class': 'label'}}) }}
        <div class="control">
            {{ form_widget(form.newPassword.first, {'attr': {'class': 'input'}}) }}
        </div>
        {{ form_errors(form.newPassword.first) }}
    </div>

    <div class="field">
        {{ form_label(form.newPassword.second, null, {'label_attr': {'class': 'label'}}) }}
        <div class="control">
            {{ form_widget(form.newPassword.second, {'attr': {'class': 'input'}}) }}
        </div>
        {{ form_errors(form.newPassword.second) }}
    </div>

    <div class="field">
        <div class="control">
            <button type="submit" class="button is-primary">Cambiar contraseña</button>
        </div>
    </div>
    {{ form_end(form) }}
{% endblock %}
